<div id="orgchart"></div>

<script>
//////////////////////////orgchart

google.charts.load('current', {packages:["orgchart"]});
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Name');
        data.addColumn('string', 'Manager');
        data.addColumn('string', 'ToolTip');

        data.addRows([
            {% for people in peoples %}
            [{'v':'{{ people.id }}', 'f':'{{ people.firstname }} {{ people.lastname }}'}, '{% if people.n1.id is defined and people.n1.id is not null %}{{ people.n1.id }}{% endif %}', '{{ people.role }}'],
            {% endfor %}
        ]);
        
        var chart = new google.visualization.OrgChart(document.getElementById('orgchart'));
        chart.draw(data,  {'allowHtml':true, 'size':'medium', 'allowCollapse':true, 'nodeClass': 'mynode'});
    }
</script>